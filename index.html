<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="main.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- 이 아래부터 jQuery 사용가능  -->
  </head>
  <!-- =================================HTML============================================= -->

  <body class="" id="body">
    <!-- 모달창 -->
    <div class="black-bg" id="login-modal">
      <div class="white-bg">
        <h4>로그인하세요</h4>
        <form action="success.html" id="login-form">
          <div class="mb-3">
            <label>이메일</label>
            <input type="text" id="email" class="form-control" />
          </div>
          <div class="mb-3">
            <label>패스워드</label>
            <input type="password" id="password" class="form-control" />
          </div>
          <p id="pwLength" style="color: red">비번은 7자 이상</p>
          <button type="submit" class="btn btn-primary" id="login-submit">
            로그인
          </button>
          <button type="button" class="btn btn-danger" id="close">닫기</button>
        </form>
      </div>
    </div>

    <!-- navbar -->
    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">HenShop</span>
        <span class="badge bg-dark" id="darkMode">Dark</span>
        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>

    <ul class="list-group">
      <li class="list-group-item">item 1</li>
      <li class="list-group-item">item 2</li>
      <li class="list-group-item">item 3</li>
      <li class="list-group-item">item 4</li>
      <li class="list-group-item">item 5</li>
    </ul>

    <!-- 메인페이지 -->
    <div id="mainComponent" class="margin-bg">
      <h4>Shirts on Sale</h4>
      <button id="login-btn" class="btn btn-danger">로그인</button>
    </div>
    <div class="alert alert-danger">5초 이내 구매시 사은품 증정!</div>

    <!-- 사진 -->
    <div style="overflow: hidden">
      <div class="slide-container">
        <div class="slide-box">
          <img src="1.jpg" />
        </div>
        <div class="slide-box">
          <img src="2.jpg" />
        </div>
        <div class="slide-box">
          <img src="3.jpg" />
        </div>
      </div>
    </div>

    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="nextPic">다음</button>

    <!-- =================================HTML============================================= -->

    <script>
      $('#login-btn').on('click', function () {
        $('.black-bg').addClass('show-modal');
      });

      $('#close').on('click', function () {
        $('.black-bg').removeClass('show-modal');
      });

      $('.navbar-toggler').on('click', function () {
        $('.list-group').toggleClass('show');
      });

      $('form').on('submit', function (e) {
        var emailInput = $('#email').val();
        var pwInput = $('#password').val();
        let emailRegex = new RegExp(
          '^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        );
        let pwRegex = new RegExp('[A-Z]');
        if (emailInput == '') {
          alert('이메일 입력하셈');
          e.preventDefault();
        } else if (!emailRegex.test(emailInput)) {
          alert('이메일 형식으로 쓰셈');
          e.preventDefault();
        } else if (pwInput == '') {
          alert('비번 입력하셈');
          e.preventDefault();
        } else if (pwInput.length <= 6) {
          alert('비번은 7자 이상이다');
          e.preventDefault();
        } else if (!pwRegex.test(pwInput)) {
          alert('비번은 알파벳 대문자 포함해야 함.');
          e.preventDefault();
        }
      });

      $('#password').on('input', function () {
        if ($('#password').val().length >= 7) {
          $('#pwLength').html('7자 이상 만족!!').css('color', 'green');
        }
      });

      var count = 0;
      $('.badge').on('click', function () {
        count++;
        if (count % 2 == 1) {
          $('#darkMode').html('Light');
          $('#body').addClass('dark');
          $('#mainComponent').css('background', 'Midnightblue');
        } else {
          $('#darkMode').html('Dark');
          $('#body').removeClass('dark');
          $('#mainComponent').css('background', 'lightgrey');
        }
      });

      var sec = 5;
      setInterval(function () {
        if (sec == -1) {
          $('.alert').hide();
        }
        $('.alert').html(sec + '초 이내 구매시 사은품 증정!');
        sec--;
      }, 1000);

      $('.slide-1').on('click', function () {
        $('.slide-container').css('transform', 'translateX(0vw)');
      });
      $('.slide-2').on('click', function () {
        $('.slide-container').css('transform', 'translateX(-100vw)');
      });
      $('.slide-3').on('click', function () {
        $('.slide-container').css('transform', 'translateX(-200vw)');
      });

      //다음 버튼 구현해야 함
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
